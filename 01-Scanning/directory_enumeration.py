import requests, sys, argparse, logging
from pathlib import Path

def readfile(path):
    file = Path(path)
    wordlists = file.open().readlines()
    return wordlists

def tryRequest(request):
    try:
#        print("try request : ", request)
        response = requests.get(request)
    except requests.ConnectionError:
        pass
    else:
        if(response.status_code == 200):
            print("Valid domain ",response.status_code,": ", request)

def makeRequests(url, word, tls):
    listExtensions = ['htm','html','php','txt']
    httpType = 'https' if tls=='True' else 'http'
    requestUrl = httpType+'://'+url+"/"+word
    tryRequest(requestUrl)
    for item in listExtensions:
        tryRequest(requestUrl+"."+item)

def start():
    args = parser()
    wordlists = readfile(args.wdPath)
    for word in wordlists:
       makeRequests(args.url, word.strip(), args.tls)
       

def parser():
    parser = argparse.ArgumentParser(description='Directories Enumerator.')

    parser.add_argument('-wd', dest='wdPath', help='WordList Path', required=True)
    parser.add_argument('-url', dest='url', help='domain url with params', required=True)
    parser.add_argument('--tls', dest='tls', help='https True or False?', default='True')

    return parser.parse_args()

start()

